<!DOCTYPE html>
<html lang="en">
  <%- include('common/head') %>
  <body>
    <%- include('common/nav') %>
    <div class="main-container">
      <h1 class="heading">Visitors Register</h1>
      <main>
        <% if(message){ %>
        <p id="message-from-server"><%= message %></p>
        <% } %>
        <form>
          <span class="message"><%- message %></span>
          <div class="input-fields">
            <span class="legend">
              <label for="name"
                >Name:
                <span id="nameError" class="error-span"></span>
              </label>
              <input
                type="text"
                name="name"
                id="name"
                placeholder="John"
                onkeyup="validateName('name','nameError')"
                onchange="validateName('name','nameError')"
                oninput="validateName('name', 'nameError')"
                required
              />
            </span>

            <span class="legend">
              <label for="surname"
                >Surname:
                <span id="surnameError" class="error-span"></span>
              </label>
              <input
                type="text"
                name="surname"
                id="surname"
                placeholder="Doe"
                onchange="validateSurname('surname', 'surnameError')"
                onkeyup="validateSurname('surname', 'surnameError')"
                oninput="validateSurname('surname', 'surnameError')"
                required
              />
            </span>

            <span class="legend">
              <label for="id"
                >Id:
                <span id="idError" class="error-span"></span>
              </label>
              <input
                type="text"
                name="id"
                id="id"
                pattern="[0-9]{13}"
                min="13"
                onkeyup="validateID('id', 'idError')"
                onchange="validateID('id', 'idError')"
                oninput="validateID('id', 'idError')"
                placeholder="2012175333080"
                required
              />
            </span>

            <span class="legend">
              <label for="cellno"
                >Cell-no:
                <span id="cellError" class="error-span"></span>
              </label>
              <input
                type="text"
                name="cellno"
                id="cellno"
                placeholder="012-345-6789"
                onkeyup="validateCell('cellno', 'cellError')"
                onchange="validateCell('cellno', 'cellError')"
                oninput="validateCell('cellno', 'cellError')"
                required
              />
            </span>

            <span class="legend">
              <label for="email"
                >Email:
                <span id="emailError" class="error-span"></span>
              </label>
              <input
                type="email"
                name="email"
                id="email"
                placeholder="example@example.com"
                onkeyup="validateEmail('email', 'emailError')"
                onchange="validateEmail('email', 'emailError')"
                oninput="validateEmail('email', 'emailError')"
                required
              />
            </span>

            <span class="legend">
              <label for="branch">Branch: </label>
              <select name="branch" id="branch">
                <option value="Tshwane">Tshwane</option>
                <option value="Johannesburg">Johannesburg</option>
                <option value="Gauteng Provincial Office">
                  Gauteng Provincial Office
                </option>
                <option value="Ekurhuleni">Ekurhuleni</option>
                <option value="Mamelodi">Mamelodi</option>
                <option value="Attredgeville">Attredgeville</option>
                <option value="Olievenhoutbosch">Olievenhoutbosch</option>
                <option value="Cullinan">Cullinan</option>
                <option value="Bronkhorspruit">Bronkhorspruit</option>
                <option value="Mabopane">Mabopane</option>
              </select>
            </span>

            <span class="legend">
              <label for="reason-for-visit">Reason for visit: </label>
              <textarea
                cols="80"
                type="text"
                name="reason"
                id="reason-for-visit"
                placeholder="Reason for visit"
                required
              ></textarea>
            </span>

            <div class="signature-pad-container">
              <span class="legend">
                <label for="signature"
                  >Signature:
                  <span id="signatureError" class="error-span"></span>
                </label>
                <span class="signature-pad-controls">
                  <canvas></canvas>
                  <button type="button" class="signature-pad-clear">
                    Clear
                  </button>
                </span>
              </span>
            </div>

            <button type="submit" id="form-submit" class="form-submit">
              Submit
            </button>
          </div>
        </form>
      </main>
    </div>

    <%- include('common/sideMenu') %> <%- include('common/footer') %> <%-
    include('common/script') %> <%- include('common/validators') %> <%-
    include('form-handlers/visitor-form-handler') %>
  </body>
</html>
